<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KR Trading — Kiwoom-style UI</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div id="app" class="app">
    <!-- Top Bar -->
    <header class="topbar">
      <div class="brand">KR Trading<span class="badge">Kiwoom-Style</span></div>
      <div class="balances">
        <div class="balance">
          <span class="label">기초자산</span>
          <span id="baseBalance" class="value">₩100,000,000</span>
        </div>
        <div class="cash">
          <span class="label">가용 현금</span>
          <span id="cashBalance" class="value">₩100,000,000</span>
        </div>
      </div>
      <div class="session">
        <span id="userEmail" class="user-email">비로그인</span>
        <button id="loginBtn" class="btn btn-primary">로그인 / 회원가입 (L)</button>
        <button id="logoutBtn" class="btn btn-ghost hidden">로그아웃</button>
        <button id="helpBtn" class="btn btn-ghost">단축키 (?)</button>
      </div>
    </header>

    <main class="layout">
      <!-- Left: Search + Favorites -->
      <aside class="sidebar">
        <div class="panel">
          <div class="panel-title">검색 (S)</div>
          <div class="search-box">
            <input id="searchInput" class="input" placeholder="코드/종목명 입력..." />
          </div>
          <ul id="searchResults" class="list"></ul>
        </div>

        <div class="panel">
          <div class="panel-title">관심종목 (F)</div>
          <ul id="favList" class="list"></ul>
        </div>
      </aside>

      <!-- Center: Price + Chart -->
      <section class="center">
        <div class="panel quote-panel">
          <div class="panel-title flex-between">
            <div id="quoteName">종목 선택</div>
            <div class="quote-actions">
              <button id="orderBtn" class="btn btn-accent">주문창 (O)</button>
              <button id="toggleFavBtn" class="btn btn-ghost">관심 등록/해제 (A)</button>
            </div>
          </div>
          <div class="quote-body">
            <div class="price">
              <span id="nowPrice" class="now">—</span>
              <span id="updatedAt" class="updated">—</span>
            </div>
            <canvas id="chart" class="chart" width="900" height="300"></canvas>
          </div>
        </div>
      </section>

      <!-- Right: News -->
      <aside class="sidebar right">
        <div class="panel">
          <div class="panel-title">뉴스 (N)</div>
          <ul id="newsList" class="news-list"></ul>
        </div>
      </aside>
    </main>
  </div>

  <!-- Context Menu -->
  <div id="contextMenu" class="context-menu hidden">
    <div id="ctxOpenOrder" class="ctx-item">주문창 열기 (O)</div>
    <div id="ctxToggleFav" class="ctx-item">관심종목에 추가/해제 (A)</div>
  </div>

  <!-- Login/Register Modal -->
  <div id="authModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-card">
      <div class="modal-header">
        <div class="modal-title">로그인 / 회원가입</div>
        <button id="authClose" class="icon-btn" aria-label="닫기">×</button>
      </div>
      <div class="tabs">
        <button class="tab active" data-tab="login">로그인</button>
        <button class="tab" data-tab="register">회원가입</button>
      </div>
      <div class="modal-body">
        <form id="loginForm" class="form tab-pane active" autocomplete="on">
          <label class="field">
            <span>이메일</span>
            <input type="email" id="loginEmail" class="input" placeholder="you@example.com" required />
          </label>
          <label class="field">
            <span>비밀번호</span>
            <input type="password" id="loginPassword" class="input" placeholder="••••••••" required />
          </label>
          <button class="btn btn-primary w-full" type="submit">로그인</button>
        </form>

        <form id="registerForm" class="form tab-pane" autocomplete="on">
          <label class="field">
            <span>이메일</span>
            <input type="email" id="regEmail" class="input" placeholder="you@example.com" required />
          </label>
          <label class="field">
            <span>비밀번호</span>
            <input type="password" id="regPassword" class="input" placeholder="최소 8자" minlength="8" required />
          </label>
          <button class="btn btn-accent w-full" type="submit">회원가입</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Order Modal -->
  <div id="orderModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-card">
      <div class="modal-header">
        <div class="modal-title">주문창</div>
        <button id="orderClose" class="icon-btn" aria-label="닫기">×</button>
      </div>
      <div class="modal-body">
        <div class="order-grid">
          <div class="field">
            <span>종목</span>
            <input id="orderCode" class="input" readonly />
          </div>
          <div class="field">
            <span>종목명</span>
            <input id="orderName" class="input" readonly />
          </div>
          <div class="field">
            <span>현재가</span>
            <input id="orderPrice" class="input" readonly />
          </div>
          <div class="field">
            <span>수량</span>
            <input id="orderQty" class="input" type="number" min="1" value="1" />
          </div>
        </div>
        <div class="order-actions">
          <button id="buyBtn" class="btn btn-buy">매수</button>
          <button id="sellBtn" class="btn btn-sell">매도</button>
        </div>
        <div id="orderNote" class="note">
          시뮬레이션 전용입니다. 실제 주문이 체결되거나 서버에 저장되지는 않습니다.
        </div>
      </div>
    </div>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>
